<div class="d-flex justify-content-between align-items-center mb-3 p-2 bg-white border rounded">
  <span class="fw-bold">{{ productService.products().length }} Produits trouvés</span>
  <div class="d-flex align-items-center">
    <label class="me-2 text-muted small">Trier par :</label>
    <select class="form-select form-select-sm" style="width: auto;" (change)="onSortChange($event)">
      <option value="">Pertinence</option>
      <option value="price-asc">Prix croissant</option>
      <option value="price-desc">Prix décroissant</option>
      <option value="rating">Meilleures ventes</option>
    </select>
  </div>
</div>

<div class="products-grid">

  @for (product of productService.products(); track product.id) {
  <div class="product-card">
    <div class="product-image-container" [routerLink]="['/product', product.id]" style="cursor: pointer">
      <img [src]="product.thumbnail" [alt]="product.title">
    </div>
    <div class="product-info">
      <div class="product-rating">
        <i class="bi bi-star-fill text-warning"></i>
        <span class="fw-bold ms-1">{{ product.rating }}</span>
      </div>
      <h3 class="product-title" [routerLink]="['/product', product.id]" style="cursor: pointer">{{ product.title }}</h3>
      <p class="product-price">{{ product.price * 10 | number:'1.2-2' }} DH</p>
      <div class="product-actions">
        <button class="btn btn-add-cart" (click)="cartService.addToCart(product)">
          <i class="bi bi-cart-plus me-2"></i>Ajouter
        </button>
      </div>
    </div>
  </div>
  } @empty {
  <div class="col-12 text-center">
    <p>Aucun produit trouvé.</p>
  </div>
  }

</div>